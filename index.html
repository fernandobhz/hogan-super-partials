<!DOCTYPE html>
<html>
<head>
	<title>Hogan super partials</title>
	<meta http-equiv="pragma" content="no-cache">
	<link rel="shortcut icon" href="#" />

	<style>
		body > div {
			margin: 10px;
		}

		.menu {
			border: 1px solid red;
			width: 23%;
			height: 70vh;
			float: left;
		}

		.content {
			border: 1px solid blue;
			width: 73%;
			height: 70vh;
			float: right;
		}

		.header {
			border: 1px solid black;
			height: 10vh;
		}

		.footer {
			border: 1px solid black;
			height: 10vh;
		}
	</style>
	<script src="http://twitter.github.com/hogan.js/builds/3.0.1/hogan-3.0.1.js"></script>
	<script src="https://rawgit.com/flatiron/director/master/build/director.min.js"></script>

	<link rel="stylesheet" href="//netdna.bootstrapcdn.com/bootstrap/3.0.3/css/bootstrap.min.css">

	<script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
	<script src="//netdna.bootstrapcdn.com/bootstrap/3.0.3/js/bootstrap.min.js"></script>

	<script src="fetch-templates.js"></script>
	<script>		
		FetchTemplates('layout', 'person', 'company', 'employee').then(tpls=>console.log(tpls));
	</script>

	<script>
		var router = new Router().init();

		router.on('/', function () {
			root.innerHTML = "";
		});

		router.on('/person', function () {
			debugger;
			var layoutSource = layout.import.documentElement.ownerDocument.body.innerText;
			var layoutTemplate = Hogan.compile(layoutSource);

			var personSource = person.import.documentElement.ownerDocument.body.innerText;
			var personTemplate = Hogan.compile(personSource);

			var context = {
				name: 'Fernando'
				, age: 31
				, friends: ['Ronald', 'Charles']
			}

			var partials = {
				modelo: layoutTemplate
			}

			var html = personTemplate.render(context, partials);
			root.innerHTML = html;
		});

		router.on('/company', function () {
			root.innerHTML = "company";
		});

		router.on('/employee', function () {
			root.innerHTML = "employee";
		});
	</script>

	<script>
		//console.log(layout.import.documentElement.innerHTML);
	</script>
</head>
<body>
	<div class="container-fluid">
		<div class="row">
			<div class="col-xs-3" style="text-align: left">
				<a href="#" class="btn btn-primary" style="width: 100%">Home</a>
			</div>

			<div class="col-xs-3" style="text-align: center">
				<a href="#/person" class="btn btn-primary" style="width: 100%">Person</a>
			</div>

			<div class="col-xs-3" style="text-align: center">
				<a href="#/company" class="btn btn-primary" style="width: 100%">Comany</a>
			</div>

			<div class="col-xs-3" style="text-align: right">
				<a href="#/employee" class="btn btn-primary" style="width: 100%">Employee</a>
			</div>
		</div>

		<div class="row">
			<div class="col-xs-12" id="root">
			</div>
		</div>
	</div>
</body>
</html>
